<!doctype html>
<html lang="en">
<head>

  <meta charset="utf-8" />
  <title>Litergical Display</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="p-10 font-bold origin-center bg-[#d9cba5] ">
  <body class="min-h-screen flex items-center justify-center bg-[#d9cba5] p-10 font-bold">
  <div class="max-w-[1400px] text-center space-y-4">
    <div class="text-l mb-2" id="title"></div>
    <div id="text" class="text-6xl leading-relaxed">Welcome</div>
    <pre id="log"></pre>
  </div>
</body>

  <script>

  const ws = new WebSocket(`ws://${location.host}/ws`);

  ws.onopen    = () => console.log("[display] ws connected");
  ws.onclose   = () => console.log("[display] ws closed");
  ws.onmessage = (ev) => {
    const m = JSON.parse(ev.data);
    if (m.cmd === "set") {
      if (m.title !== undefined) document.getElementById('title').textContent = m.title;
      if (m.text  !== undefined) document.getElementById('text').textContent  = m.text;
      if (m.color !== undefined) document.getElementById('bar').style.background = m.color;
    }
    if (m.cmd === "clear") {
      document.getElementById('text').textContent = "";
    }
  };
  </script>
</body>
</html>